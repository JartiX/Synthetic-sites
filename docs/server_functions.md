# Функции связанные с базой данных:
1. Аутентификация и менеджмент пользователей
    - Маршруты `/templates/register`, `/templates/login`, `/templates/logout` обрабатывают регистрацию, вход и выход пользователя с использованием форм (`RegistrationForm`, `LoginForm`) и взаимодействия с моделью пользователя, хранящейся в базе данных (`db`). 
    - Хеширование пароля осуществляется с помощью `bcrypt`. 
    - Аутентификация управляется с помощью `flask_login`.
2. Админские операции
    - Некоторые конечные точки API (`/api/remove_user_by_id`, `/api/create_user_api`, `/api/make_admin_by_id`, `/api/get_username_by_id`, `/api/get_email_by_id`, `/api/get_id_by_username`, `/api/get_id_by_email`, `/api/get_users`) требуют привилегий администратора (декоратор `admin_required`) и взаимодействуют с моделью `User` в базе данных (`db`).
# Функции связанные с API
1. Конечные точки API для извлечения данных сайта:
    - Конечные точки, такие как `/api/<site>/get_locations/`, `/api/<site>/get_likes_by_id/`, `/api/<site>/get_visits_by_id/`, `/api/<site>/get_reviews_by_id/`, `/api/<site>/get_stats_by_id/`, `/api/<site>/get_name_by_id/`, `/api/<site>/get_category_by_id/`, `/api/<site>/get_location_id_by_name/`, `/api/<site>/get_average_visits_by_id/` извлекают определенные данные из файлов JSON (`data.json`), хранящихся в `static/sites/<site>/`.
    - Каждая конечная точка обрабатывает запросы GET с параметрами (сайт и иногда `id`) для возврата ответов JSON (`make_responce` для успеха или `make_error` для ошибок).
2. Конечные точки API администратора для управления сайтом:
    - Конечные точки (`/api/delete_site_from_main_page`, `/api/add_existed_site`, `/api/delete_site`, `/api/create_site`) выполняют операции с данными и конфигурациями сайта (`static/sites.json`).
    - Этим конечным точкам требуются права администратора (декоратор `admin_required`) и они обрабатывают такие операции, как удаление сайтов, добавление новых сайтов и генерация сайтов.

# Другие функции:
- Обработка статических файлов: Маршруты `/` и `/static/<path:filename>/` обслуживают статические файлы, такие как шаблоны HTML и другие ресурсы (`send_from_directory`).
- Обработка ошибок. Функции `make_error` и `make_responce` последовательно обрабатывают сообщения об ошибках и ответах в формате JSON во всем приложении.

# Краткое содержание:
- Сервер использует Flask для аутентификации и авторизации пользователей, конечных точек API для операций CRUD с данными сайта и функций, специфичных для администратора.
- Он взаимодействует с базой данных (модель `User`) для управления пользователями и файлами JSON (`data.json`, `site.json`) для конфигурации сайта и хранения данных.
- Обработка ошибок и форматирование ответов стандартизированы с использованием JSON, что обеспечивает четкую связь с клиентами.